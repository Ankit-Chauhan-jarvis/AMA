And we're live. Welcome to yet another weekly call for EMEA and America's time zones of the new DIFS architecture workflow effort. That's a mouthful. I'll go straight to the agenda. We have a point from Patrick, who's not attending. I'll be out starting this Thursday, October 12, and we'll be back on October 17, so I won't be able to host slash attend the APAC call. We'll catch up on recording and issues. He also says, related to the APAC call, no one attended the last one, so I wonder if we should make it earlier in case someone from America can join. What do you think about 1 a.m. UTC? Thoughts? Would anyone here be affected by that? Like, I can't go to that. Well, I mean, I could go to that, but that would be, no, thank you. What would be your time if it was 1 a.m.? 1 a.m. UTC would be 6 p.m., I think. I think I'm minus 7. Which, I mean, I suppose I could go to that. It wouldn't be my most favorite time, but. This is what it would look like. Where are these locations? Oh, here on the right-hand side. So London would be 2 a.m. Sorry, what was his proposal? 1 a.m.? Yeah, 1 a.m. UTC, but with daylight savings time is 2 a.m. London. 1 a.m. UTC, right. So these would be the times. What's your central? Is your central mountain? Oh, yeah. It's already on the verge of being late. It's tough. It's tough. If you want to make it to include Singapore, that area. Yeah, I mean, since this is late, like later in my evening, I don't have a ton of opinion about this. So I don't know if anybody else here does. If that helps them, that's good. If more people show up. Yeah. Yeah. It would make it so that. It would make it so that these two meetings are exactly 12 hours apart. And I could theoretically make either one of them, which I suppose is good. I could come to both. So since we haven't had a lot of experience with that, I would suggest just trying a new time and broadcast it and let people know and go from there. And we can tweak it every week as we go. It seems like 1 a.m. would be still too late for Americas. So I'm probably going to be counterproposing. Midnight UTC, which is like one hour less. And we'll see from there. Why can't I change? Sorry. All right. 1 a.m. UTC. Seems like it would still be too late for America. But what is it? 0 a.m.? Is that how you write it? It's 0, 12, no, 12 a.m.? 12 a.m., right? 12 a.m. or 00 hours. Midnight. UTC. Good. Essentially. I'll update the invite. He also says we should likely market the APAC call more as people may not know that it exists and they can join. I can do that. I can do this when I get back. I'll broadcast the change of the events time in Slack channels. And people. Right. Yeah, I'll go through the it would be nice to go to the map. Sorry. Apologies. We don't have that anymore. But I'll I know at least two people that are in Australia. Yeah. Yeah. And then as I have three. Asmikenzi and David Kim. him um so um so that would be the two people that i'll be pinging is there anyone else that we should be pinging on top of my head those are it so i'll uh i'll ping them so that's that um any more thoughts on the apac call all right um we'll be going to the next point patrick as well not attending um he left a comment about a random thought related to order of priorities then igor you also left a comment yeah we had a bit of a discussion there um should we cover that now or should you keep it asynchronous igor do you want to share your views keeping it asynchronous is fine with me yeah i just mentioned that uh probably we need to define our uh the priority what do we mean uh regarding like behind the word priority yeah and whether uh whether we should be firm firm about uh like whether we want to sacrifice some performance some attainability or coverage uh for the sake of other criteria or not so yeah i suggested two points either be firm about uh that we don't want to decrease any of the criteria of the metrics only improve them or for example we could define the flexibility how flexible we are about sacrificing some of the metrics for example i can imagine it's a scenario of removing some feature for the sake of maintainability or performance but it's sure it's like a product call got it no that's that's great and i definitely encourage everybody to read that thread because i feel like it's the kind of things that we'll face in the future. So it's definitely worth giving it some thoughts. What I propose, Igor, is for the sake of moving this along, I'll get an MR started for the documentation that's in the works. Phil already has an MR up, should be merged soon. And I'll add a little section about priorities. Priorities, and we'll just collaborate there. I'll grab some of your examples there. I think we're leaning more towards the flexible part. Because remember, we're always going to be here to make the best call for each scenario. But we don't want to be imprisoned by a theoretical restriction that we created out of thin air. This is more like guidance. Than to restrain us. So we'll always have the ability to have a conversation around it. And in a particular part of the coverage, accept less coverage if it means that it's more performance. But UX and product being okay with that will be part of the conversation. For now, we just have to write something in the documentation. We can iterate later if we feel like it's still not good enough. But I feel like moving to an MR is probably the best way to start talking about the actual wording. Tweaking. The text. Sure. Makes sense. The cough came in as I was asking, does that make sense? And you answered. So thanks. I'll move on to create an MR. To start putting this to stone and iterating and collaborating. Cool. Cool. Cool. Cool. All right. Let's keep on discussing, I guess, synchronously in the issue. If you have more thoughts, I'll, in the meantime, should be moving on to the MR in the next day or two. reconciliation. Igor, you have your next point. Yeah. Unfortunately, it's some specific example. I think it's a good example rather than something related on how we organize our initiative. But yeah, it's about the specific example that we already worked on the performance of DIVs previously. And there's currently some functionality on the backend behind the feature flag. But at the same time, it's disabled for a while now, just because we had issues with view, syntax highlight, maybe with some other formats as well. So yeah, it's just as an example of prioritizing courage and correctness over performance in this case. But we will probably come back to this example later and see what we can improve. Thanks for sharing that. I think this is definitely useful to understand. I've given what we learned with the front end highlighting. It definitely. Definitely tracks because partial highlighting is always going to be challenging in certain contexts. Which begs the question. So this came up in a previous discussion earlier today in my one on one with Phil. Is have we ever looked into not highlighting all of the files in the DIV and just doing that for a certain set of like the initial ones? Have we looked into that? At all? Ever? And to save the work of highlighting the file for when it's actually requested. Have we ever looked at that? So highlighting the part of the file instead of the whole file? No, no. So the idea is that imagine we have a DIV with 12 files changed. Sorry. Let's say that we change one line in 12 files. The process, as far as I understand right now. We'll have to highlight all of the 12 files first and then grab this chunk thing that we that we need to put in the DIVs. What if we didn't do the highlighting for the whole 12 files? We just did the highlight on three or four, which will be the first ones that will be in the batch DIVs being thrown into the browser. And then from that moment on, we would only be highlighting on demand and caching it. Uh, the idea there is to. To alleviate the work that backend has to do to start giving the. Um, the results, I guess. So we. Um. Not doing work up ahead until it's needed. That's the whole overall thought. I think. Have we ever looked into that? Is that even meaningful? Probably, probably had a look at it, but, uh, as it's. Uh. Uh. To me, it sounds like more like front end dreaming because, um, uh, it's, uh, everything comes down to fetching the files here. We just fetch four files and display them. Yeah. If we scroll further, uh, further, we, uh, fetch more files, uh, regarding the backend. Uh, probably it's not feasible, not to, not to highlight. Uh. I mean, yeah, so it's all comes down to front end. Yeah. And fetching the smallest set of files. I don't know whether we consider consider it before, but yeah, it's, it's possible. But, uh, to be honest, I would, I wouldn't look at them currently. For example, if we're talking about 12 files currently, we fetch the whole content of those 12 files. Yeah. And maybe we should consider first, um, avoid at least fetching. Uh, the whole content of 12 files, but only fetching some limited set of data, because for example, if those files are, uh, one megabyte or 10 megabyte each, so we will still fetch, uh, the whole file, which is, uh, yeah, which isдо so performant. But, uh, as we discussed before, it's done in order to provide the context for the, for the whole file. For example, as for the view files, so currently that we have an issue. Um, the script. Uh, tech is somewhere, um, higher in the beginning of the file. And, uh, so, uh, our highlighter doesn't understand whether it's HTML or JavaScript that it needs to highlight. So, um, something to have a look and definitely there's room for improvement, but yeah, it should be discussed and investigated. Okay. So you're saying that all of this work is triggered. By the front end call. So essentially we do the highlights and all that stuff. If it's not cached when the front end asks for it. Uh, your, your suggestion is driven by a front end call, uh, regarding my, uh, improvement. I mean, we're going to not fetch in the blobs. It's a backend driven because everything happens on, on backend on backend. We fetch the whole content of the files, uh, because currently we highlight the files, the diffs. We highlight the diffs on the. On backend and then return it to front end. And yeah, like fetching the files is backend driven. Uh, your idea is front end driven. Okay. We're probably going to have a, I know that we have some documentation already and I'm looking at it, uh, right now for like the, um, I'm looking at the documentation that has been updated recently that has all, all the details there. So front end calls the dispatch. It loads the diffs and all that stuff. And that's where it does a lot of like calculating unfoldable, deaf lines and all that stuff. In specific here, we see that, um, GitHub diff highlight cache kind of thing is over here once we're writing to the cache. But part of, part of this conversation is probably because we would like to speed up the deliver of diffs and potentially postpone the, the workload of doing the. Highlight, which could be done, um, with the diffs already on the page, we could first display them, not a highlighted and then highlight them at a later stage when the user scrolls to it. Um, so we're probably going to be, uh, it's gonna be useful to have one particular discussions exclusively about watching as we could do about the highlighting, but, um, I'm not sure we're ready for it yet. Um, okay. Okay. Anybody has any more thoughts or questions about that? Okay. Um, let's keep tracking that, uh, or at least keep discussing this because I feel like while the line by line next highlighting might not be the way to go, there might be some lessons there. Um, Igor for your. For your context. It's still not very clear how much of a server side rendered approach we'll be employing. And that will change a lot of these decisions, right? If we end up deciding to do the server side rendering, um, we'll definitely need to prioritize a lot of these, um, processes to be back end, uh, run, run in the backend and not leverage enough on that. But we'll, we'll discuss that. Cool. Thomas, do you want to take your point? I'll be right back. Yeah. Um, I just wanted to, I wasn't sure exactly what we needed to output from these meetings and this quarter or whatever, in terms of the actual workflow document. So I was just asking that, uh, I see there that Phil has, uh, created an MR for that, which I believe is, I think it's the full output that we need to do. So I don't know. I don't know. Like I said, in my note, I'm still trying to parse the, the workflow. Like, I don't know. I don't know. I'm not sure what all we need to include in this. Cause like I'm focusing sort of, we actually, a lot of our conversations are around technical stuff. Like how are we going to do this or what can we do? And I don't know, like, do we need to document this in that workflow document or is this, is this something that's higher level? I just don't really know exactly what the guidelines are here. Right. So, um, Phil has already started the, the actual document. which is a markdown file that we'll be putting there. And then I guess everything that's useful to implement it needs to be linked there at least. Anybody has any other thoughts? Yeah, I think that's right. So if we decided on the same side of it, then we would talk about that in the document, I presume. But I guess that should have everything, the whole implementation details inside of it, whatever we link to issues on it. I don't know. Whatever that's using. But yeah, there's a lot to read about that whole workflow thing. Yeah. I kind of skipped most of it and had a call with Stan and hoped that he could tell me all. Okay. That sounds good. The document is like, it's not too long. It's just like, it's hard for me to pull action items out of it. Like, I understand the concept. I just don't really get what it's trying to tell me. I was like, okay, it's not too long. That sounds good. My other point is, I created a new issue, which is one of those things where I'm like, I don't know if this is going to be part of the architecture workflow or not. But as we were talking about metrics and like accessibility and that kind of stuff, it seemed like what our definition of done is, is going to be slightly different than like metrics. And so I created an issue for that for us to like define what our definition of done is. Because we have metrics we can track. We have like the desire to do accessibility, like as a guaranteed Boolean, like yes or no. But then like, how do we define when work is done? Does it meet metrics 100% of the time? Is it 70 P 75 or whatever, that kind of stuff. So feel free to contribute there. I put two things in the description. I think they're guaranteed things. And then we have to define what they are. Because I said meets our technical metrics, but we haven't really defined them yet. So feel free to contribute wherever. Cool. Thanks Thomas. I added a note here just because the way I see it, a lot of these discussions about the meaningful metrics, the defining maintainability, all of the outcome of those discussions will basically be sections in that document that Phil is creating right now. And in the end, what we'll have is exactly a guiding document for this project. What will be the benchmark? Sorry, what will be the budgets that we'll have to do? What will be the the overall GitLab project? I feel like this is definitely going to be useful in the end. So thanks for that. Cool. Igor? Yeah. I have noticed that Patrick mentioned that he won't be, he won't attend any of the meetings, some of the meetings. So I decided to mention as well that I will be off next week. So yeah, nothing important. Just yeah, I'll be off in the next meeting. Cool. Thanks, Igor. Enjoy the time off. I had a last point here last minute because I wanted, like last time we spoke, we were targeting to have captured the way that the diffs are rendered, calculated. That we do today on all of the areas that we have diffs today. I wanted to do a quick check on where we are. And I think it's going to be a little bit different than what we will be focused on. see some more about that. So essentially these are the four categories, I think. I mean, they're still giggly somewhere in there. But I'll include that as backend for now. I was supposed to do that worked to convert Phil's X Cali draw thing to mermaid. And I completely forgot. So that's not done. Sorry. All right. like a big catch-up day so i'm trying to i'll probably get to that today yes and i have to remind you like we don't have to we don't we don't want it to be perfect you want it to be done essentially so it's called draw migration and started i think if i'm if i'm recalling correctly i think amy had started converting this to mermaid hadn't she you wanted to to have it converted i saw a i don't know where it is but i gotta find it i saw a collab like a details collapse and inside of that is a bunch of mermaid stuff and uh i think it's related to this it's not done but i'm pretty sure it is this well if it is good that's good luck for you but if it's not yeah you have to do it anyway so but yeah please take a look at it soon so you can because what i want what i want us to have as soon as we i know we'll check the other sections as soon as we have these we should all get like a ping of saying listen documentations is ready go take a look and then we'll chat about it because we'll have to have a sync discussion about or a sync or a synchronous discussion about how we extract the patterns that match all all things but anyway so that's the status of code review front end thomas thank you so much let's hope to have it done in the next couple days uh who else wants to provide an update uh yeah i did a quick quick update on the code review so i'm going to start with the the source code front end um i added the um at the diagrams for compare branches and repository commit they're pretty simple because they both hamel based the only difference really is on the repository we requested the diffs asynchronously that's really the only notable difference between them so this rotate to�y is one a notice page functions mediaプ increments well because it uses mi matter my network says Yeah, I saw that Jacques added the frontend architecture. And yeah, it looked to me, it seemed to me that it's enough, but probably I should add more details here. If we're interested about Gitly involvement into this, then yeah, I'll add details. Or maybe either me or Sean will ask someone from the team to read the diagram. Yeah. And so I'll have the update here today or tomorrow. I think it would still be useful, Igor, especially when we're talking about frontend architecture changes. We're not really clear about what that means for you all in the backend for Gitly. Like, for example, these partial things, would that speed things up significantly? Or would it be a bit of a challenge? No, it would still not make that much of a difference. So we just want to understand. And I'll just make that a little bit more specific. When we're requesting the diffs, we could distinguish between the diffs that are visible now to the user and the ones that are not visible to the user. So we could cut some corners and render those much quicker because then later on we'll refresh them for the real thing later on. Which means that we're going to have a lot of different things. Okay. So the other thing is that the request to Gitly could be much lighter if we don't need all the information that we might need later. So a lot of these decisions are, like, full stack. They go from the beginning to the end. So, yeah, we're very useful. Thanks. And the code review backend, as far as I understand, they have been being ‑‑ there's a couple of merge requests being merged. And there's still one in flight. Again, Patrick absence. But from what I can see, several MRs are being merged slash reviewed into this page. Sorry. I shouldn't put the hash there. And that's what I think is the latest update from the backend for code review in this particular sense. The diagrams are the ones that are really tiny. But we probably want to take a look at that, try to understand everything that is over there, so we could potentially understand that better. And yeah, I guess that was the flow section. But anyway, I pointed to the whole page. Cool. So it feels like we're getting to it. But once we have Thomas's migration of Bill's diagram. And once we have the backend from source code, it feels like we have a good spot to just overview everything together. First, synchronous and then have a synchronous discussion about it. So thanks, everybody, for that update. Anybody has any other points? Cool. So I'm just taking a look at what we need to do. I think we have a couple of things to get done. I'll update the Thursday call, broadcast the change on Slack. Thomas will finish off... I'll start an MR to document the priorities in the MR in the markdown file. And Igor will complete or find someone to complete the backend details. And yeah, Thomas will update the migration of that. So I feel like we have a cool list of things to get done. And let's participate on the discussion of the definition of done, everybody, so we can get it in a place to get merged to. All right. A bit chaotic, but we got through. Thank you so much for everybody's input. And yeah, I'll see you either Thursday or Tuesday, I guess. All right. Take care, everybody. Thanks, everybody. Thank you.